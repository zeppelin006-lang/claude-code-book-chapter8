# TaskCLI - アイデアメモ

## このドキュメントの位置づけ

このドキュメントは壁打ち・ブレストの成果物で、正式な仕様書ではありません。

## プロダクトビジョン

開発者がターミナルから離れずにタスク管理できるCLIツール。GitやGitHubとがっつり連携して、コードを書くこととタスクを管理することを自然につなげたい。

**一言で言うと**: Gitと一体化したタスク管理ツール

---

## 解決したい課題

### 今困っていること

1. **画面の切り替えが多すぎる**
   - ターミナルでコード書いて → ブラウザでTrello開いて → またターミナルに戻って
   - 切り替えるたびに集中力が途切れる
   - 1日に20回以上これをやってる

2. **タスクとコードがバラバラ**
   - 今どのタスクのためにどのブランチで作業してるのか分からなくなる
   - Gitのコミットメッセージにタスク番号を書くのを忘れる
   - 完了したタスクと実際にマージされたPRの紐付けが曖昧

3. **手作業が多すぎる**
   - タスク完了 → 手動でステータス更新 → 手動でPR作る → 手動でタスク閉じる
   - 自動化できそうなのに、GUIのツールだとうまく連携できない

4. **チームの状況が見えにくい**
   - 今誰が何やってるのか知りたいのにGUI開かないと分からない
   - ペアプロ中にさっとタスク一覧を見せられない

---

## ターゲットユーザー

### ペルソナ1: 個人開発者

- **年齢**: 25-35歳
- **職業**: フリーランスエンジニア、個人でプロダクト作ってる人
- **経験**: 開発歴5年以上、CLI操作は普通にできる
- **今困ってること**:
  - 複数のプロジェクトを並行してやってて、タスクが頭の中だけで管理されてる
  - 「あれ、このプロジェクトで次何やるんだっけ？」ってなることが多い
  - GitHub Issuesは使ってるけど、ローカルの作業と連携できてない

- **欲しいもの**:
  - ターミナルで完結するタスク管理
  - Gitブランチと自動で連携してくれる
  - シンプルで速い

### ペルソナ2: 小規模チームのリーダー

- **年齢**: 30-40歳
- **職業**: スタートアップのリードエンジニア、テックリード
- **チーム規模**: 2-5人
- **経験**: 開発歴10年以上、チームのマネジメント経験あり
- **今困ってること**:
  - チームメンバーが今何やってるのかリアルタイムで知りたい
  - 朝会でタスク確認するのに時間かかりすぎ
  - JiraとかAsanaは重すぎる、小さいチームには大げさ

- **欲しいもの**:
  - CLIでさっとチーム全体のタスク状況を確認できる
  - GitHub連携で勝手にタスク進捗が更新される
  - 軽くて導入が楽

---

## 主要機能の候補

### P0 (MVPで絶対必要)

#### 1. タスクの基本操作
```bash
task add "ユーザー認証機能の実装"
task list
task show 1
task done 1
task delete 1
```

#### 2. タスクとGitブランチの自動連携
```bash
task start 1
# 自動で feature/task-1-user-authentication ブランチを作って切り替え

git commit -m "Add login endpoint"
# コミットメッセージに Task #1 の情報が自動で追記される
```

#### 3. タスクのステータス管理
- `open` (新規)
- `in_progress` (作業中)
- `completed` (完了)
- `archived` (アーカイブ)

#### 4. シンプルなタスク一覧表示
```bash
task list

ID  Status       Title                      Branch
1   in_progress  ユーザー認証機能の実装      feature/task-1-user-authentication
2   open         データエクスポート機能      -
3   completed    初期セットアップ           feature/task-3-initial-setup
```

### P1 (重要だけど後回しでもいい)

#### 5. GitHub Issuesとの連携
```bash
task sync
# ローカルのタスクとGitHub Issuesを同期

task import --github
# GitHub Issuesからタスクをインポート
```

#### 6. タスク完了時の自動処理
```bash
task done 1
# 以下を自動でやってくれる:
# 1. ブランチをmainにマージ
# 2. リモートにプッシュ
# 3. (オプション) GitHub PRを自動作成
# 4. タスクステータスを completed に変更
```

#### 7. タスクの絞り込み・検索
```bash
task list --status in_progress
task list --assignee me
task search "認証"
```

#### 8. 優先度と期限の管理
```bash
task add "緊急バグ修正" --priority high --due 2025-01-20
task list --sort priority
```

### P2 (あったら嬉しい)

#### 9. チーム機能
```bash
task list --team
# チームメンバー全員のタスク一覧

task assign 1 @alice
# タスクを他のメンバーにアサイン
```

#### 10. カレンダー表示
```bash
task calendar --week
task calendar --month
```

#### 11. 作業時間の記録
```bash
task start 1
# 作業時間の計測開始

task done 1
# 作業時間を記録: 2時間30分
```

#### 12. タスクのテンプレート
```bash
task template create bug-fix
task add --template bug-fix "ログイン画面のバグ修正"
```

---

## 差別化ポイント

### 既存ツールとの比較

| 特徴 | TaskCLI | Todoist | Trello | GitHub Issues | Linear |
|------|---------|---------|--------|---------------|--------|
| CLI操作 | ✅ | ❌ | ❌ | 部分的 | ❌ |
| Git統合 | ✅✅✅ | ❌ | ❌ | ✅ | ✅ |
| ブランチ自動作成 | ✅ | ❌ | ❌ | ❌ | ✅ |
| ターミナル完結 | ✅ | ❌ | ❌ | ❌ | ❌ |
| 軽量・高速 | ✅ | ✅ | △ | ✅ | △ |
| チーム機能 | 🚧 | ✅ | ✅ | ✅ | ✅ |

### このツールの強み

1. **画面を切り替えなくていい**
   - コードを書く → タスクを確認 → コードに戻る
   - 全部ターミナルで完結、GUIは不要

2. **Gitとの一体感**
   - タスクとブランチが1対1で紐付く
   - コミット、マージ、PRとタスクが自動で連携
   - 今どのタスクで作業してるか常に明確

3. **開発フローに溶け込む**
   - タスク開始 → ブランチ作成 → コミット → PR → マージ → タスク完了
   - この一連の流れを自動化・支援

4. **シンプル**
   - JiraやAsanaみたいな複雑な機能は要らない
   - 開発者が本当に必要な機能だけ
   - 1分で使い始められる

---

## 技術的な検討事項

### データの保存方法

**候補1: ローカルファイル（JSON）**
- シンプル、特別なソフトウェア不要
- `.task/tasks.json` に保存
- Gitで管理できる（チームで共有できる）

**候補2: SQLite**
- 検索や絞り込みが速い
- リレーショナルなデータに対応できる
- ファイルベースで導入が簡単

**結論**: MVPはJSON、必要になったらSQLiteに移行

### Git連携の方法

- Node.jsの `simple-git` ライブラリを使う
- ブランチの作成、切り替え、コミット情報の取得を自動化

### GitHub APIとの連携

- GitHub REST API v3を使う
- Personal Access Tokenで認証
- Issuesの取得・作成・更新

### CLIフレームワーク

**候補**:
- Commander.js (人気、シンプル)
- oclif (Salesforce製、多機能)
- yargs (柔軟)

**結論**: Commander.js（学習コストが低い、機能は十分）

---

## 非機能要件（とりあえず）

### パフォーマンス
- コマンド実行: 100ms以内（体感で即座に反応）
- タスク一覧表示: 1000件でも1秒以内

### 使いやすさ
- 初めて使う人でも5分で基本操作を覚えられる
- ヘルプコマンドで全機能を確認できる
- エラーメッセージが分かりやすい

### 信頼性
- データが消えない（自動バックアップ）
- エラーが起きたら元に戻せる
- 危険な操作には確認を求める

### 拡張性
- プラグインシステム（将来的に）
- カスタムコマンドを定義できる
- 他のツールと連携できる（Slack、Discordなど）

---

## 成功指標（とりあえず）

### ユーザー視点
- **導入率**: 開発者10人に紹介して、3人以上が1週間続けて使ってくれる
- **満足度**: Net Promoter Score (NPS) が30以上
- **時間削減**: タスク管理にかかる時間が半分になる

### プロダクト視点
- **アクティブユーザー**: リリース後3ヶ月で100人
- **GitHub Stars**: リリース後6ヶ月で500
- **継続率**: 1ヶ月後も使い続けている人が60%以上

---

## 今後の検討事項

### まだ決めてないこと

1. **チーム機能をどこまでやるか**
   - どこまでチーム向けの機能を入れるか？
   - 個人開発者向けとチーム開発のバランス

2. **お金の話（将来的に）**
   - 完全無料のオープンソース？
   - Pro版（チーム機能）は有料にする？

3. **クラウド同期**
   - Git経由の同期だけでいい？
   - 専用のクラウドサービスを提供する？

4. **他のバージョン管理システム**
   - GitLabやBitbucketもサポートする？
   - 優先度は？

### 技術的に不安なこと

1. **Gitリポジトリがない環境**
   - どう対応する？エラーを出す？機能を制限する？

2. **大規模リポジトリでの性能**
   - タスクが1万件を超えたらどうなる？

3. **クロスプラットフォーム対応**
   - Windows、macOS、Linuxで全部動く？
   - Git Bashでちゃんと動く？

---

## 次のステップ

1. **このドキュメントのレビュー**
   - 抜けてる視点はないか？
   - 優先順位は妥当か？

2. **PRD（プロダクト要求定義書）の作成**
   - `/setup-project` コマンドで正式なドキュメントを作る
   - このアイデアメモを元に、もっと詳しく具体的にする

3. **プロトタイプを作る**
   - MVP機能（P0）だけで最小限のプロトタイプ
   - 実際に使ってフィードバックをもらう
